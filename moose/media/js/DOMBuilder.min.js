/**
 * DOMBuilder 2.1.1 (modes: dom [default], html) - https://github.com/insin/DOMBuilder
 * MIT Licensed
 */
(function(){function m(d){return x[d]}var x={};m.define=function(d,e){var a={},g={};a.exports=g;e(a,g,m);if("[object Array]"==Object.prototype.toString.call(d))for(var g=0,h=d.length;g<h;g++)x[d[g]]=a.exports;else x[d]=a.exports};m.define(["isomorph/lib/is","./is"],function(d){var e=Object.prototype.toString;d.exports={Array:function(a){return"[object Array]"==e.call(a)},Boolean:function(a){return"[object Boolean]"==e.call(a)},Date:function(a){return"[object Date]"==e.call(a)},Empty:function(a){for(var g in a)return!1;
return!0},Error:function(a){return"[object Error]"==e.call(a)},Function:function(a){return"[object Function]"==e.call(a)},NaN:isNaN,Number:function(a){return"[object Number]"==e.call(a)},Object:function(a){return"[object Object]"==e.call(a)},RegExp:function(a){return"[object RegExp]"==e.call(a)},String:function(a){return"[object String]"==e.call(a)}}});m.define("isomorph/lib/object",function(d){var e=function(){var a=Object.prototype.hasOwnProperty;return function(g,h){return a.call(g,h)}}();d.exports=
{hasOwn:e,extend:function(a){for(var g=1,h=arguments.length,d;g<h;g++)if(d=arguments[g])for(var q in d)e(d,q)&&(a[q]=d[q]);return a},inherits:function(a,g){var h=function(){};h.prototype=g.prototype;a.prototype=new h;return a.prototype.constructor=a},items:function(a){var g=[],h;for(h in a)e(a,h)&&g.push([h,a[h]]);return g},fromItems:function(a){for(var g={},h=0,d=a.length,e;h<d;h++)e=a[h],g[e[0]]=e[1];return g},lookup:function(a){for(var g={},h=0,d=a.length;h<d;h++)g[""+a[h]]=!0;return g},get:function(a,
g,h){return e(a,g)?a[g]:h}}});m.define("isomorph/lib/array",function(d,e,a){var g=a("./is"),h=Array.prototype.splice;d.exports={flatten:function(a){for(var d=0,e=a.length,j;d<e;d++)j=a[d],g.Array(j)&&(e+=j.length-1,h.apply(a,[d,1].concat(j)),d--);return a}}});m.define(["./dombuilder/core","./core"],function(d,e,a){function g(b,f){return!!b&&"[object Object]"==v.call(b)&&(!f||!o.modes[f].isModeObject(b))}function h(b){return"[object Array]"==v.call(b)&&"undefined"==typeof b.isElement}function m(b){b.isElement=
!0;return b}function q(b){for(var f={},a=0,c;c=t[a];a++)f[c.toUpperCase()]=i(c,b);return f}function i(b,f){var a=function(){if(arguments.length){var c=r.call(arguments),a,p=c.length,d=c[0];if(1===p&&h(d))c=d;else if(g(d,"undefined"!=typeof f?f:o.mode))a=d,c=2==p&&h(c[1])?c[1]:c.slice(1);return o.createElement(b,a,c,f)}return(a="undefined"!=typeof f?f:o.mode)?o.modes[a].createElement(b,{},[]):m([b])};a.map=function(){var c=r.call(arguments);if(h(c[0]))var a={},p=c[0],c=n.Function(c[1])?c[1]:null;else a=
c[0],p=c[1],c=n.Function(c[2])?c[2]:null;return o.map(b,a,p,c,f)};return a}function j(b,f){return{index:b,first:0==b,last:b==f-1}}var n=a("isomorph/lib/is"),k=a("isomorph/lib/object"),l=a("isomorph/lib/array"),v=Object.prototype.toString,r=Array.prototype.slice,a=(e="undefined"!=typeof jQuery)?jQuery.attrFn:k.lookup("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(",")),
t="a,abbr,acronym,address,area,article,aside,audio,b,bdi,bdo,big,blockquote,body,br,button,canvas,caption,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,hr,head,header,hgroup,html,i,iframe,img,input,ins,kbd,keygen,label,legend,li,link,map,mark,meta,meter,nav,noscript,object,ol,optgroup,option,output,p,param,pre,progress,q,rp,rt,ruby,samp,script,section,select,small,source,span,strong,style,sub,summary,sup,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,track,tt,ul,var,video,wbr".split(","),
w=e?function(b,f){jQuery(b).html(f)}:function(b,f){try{b.innerHTML=f}catch(a){var c=document.createElement("div");for(c.innerHTML=f;b.firstChild;)b.removeChild(b.firstChild);for(;c.firstChild;)b.appendChild(c.firstChild)}},o={version:"2.1.1",mode:null,modes:{},addMode:function(b){b=k.extend({isModeObject:function(){return!1},api:{},apply:{}},b);this.modes[b.name]=b;this[b.name]=k.extend(q(b.name),b.apply);null===this.mode&&(this.mode=b.name)},withMode:function(b,f){var a=this.mode;this.mode=b;try{return f.apply(null,
r.call(arguments,2))}finally{this.mode=a}},elements:q(),array:q(null),apply:function(b,f){f&&this.modes[f]?k.extend(b,this[f]):k.extend(b,this.elements);return b},build:function(b,f){for(var f=f||this.mode,a=b[0],c="#document-fragment"==a,d=!c&&g(b[1],f)?b[1]:null,j=b.length,h=[],o,e=null===d?1:2;e<j;e++)o=b[e],n.Array(o)?h.push(this.build(o,f)):h.push(o);return c?this.modes[f].fragment(h):this.modes[f].createElement(a,d,h)},createElement:function(b,f,a,c){f=f||{};a=a||[];if(c="undefined"!=typeof c?
c:this.mode)return l.flatten(a),this.modes[c].createElement(b,f,a);var b=[b],d;for(d in f){b.push(f);break}a.length&&(b=b.concat(a));return m(b)},textNode:function(a,f){f="undefined"!=typeof f?f:this.mode;return this.modes[f].textNode(a)},map:function(a,f,p,c,d){for(var g=[],e=0,n=p.length,i,l;e<n;e++){i=k.extend({},f);if(null!=c){if(l="undefined"!=typeof d?o.withMode(d,c,p[e],i,j(e,n)):c(p[e],i,j(e,n)),null===l)continue}else l=p[e];h(l)||(l=[l]);g.push(this.createElement(a,i,l,d))}return g},fragment:function(){var a=
function(){var f;f=1===arguments.length&&h(arguments[0])?arguments[0]:r.call(arguments);return this.mode?(l.flatten(f),this.modes[this.mode].fragment(f)):m(["#document-fragment"].concat(f))};a.map=function(f,a){if(!n.Function(a))return o.fragment(f);for(var c=[],b=0,d=f.length,g;b<d;b++)g=a(f[b],j(b,d)),null!==g&&(c=c.concat(g));return o.fragment(c)};return a}(),util:{EVENT_ATTRS:a,FRAGMENT_NAME:"#document-fragment",JQUERY_AVAILABLE:e,TAG_NAMES:t,setInnerHTML:w}};d.exports=o});m.define("./dombuilder/dom",
function(d,e,a){var d=a("./core"),g=a("isomorph/lib/object"),h=window.document,m=d.util.EVENT_ATTRS,q=d.util.setInnerHTML,i=d.util.JQUERY_AVAILABLE?function(a,d){if(g.hasOwn(d,"innerHTML")){var e=d.innerHTML;delete d.innerHTML;return jQuery("<"+a+">",d).html(e).get(0)}return jQuery("<"+a+">",d).get(0)}:function(){var a={tabindex:"tabIndex"},d={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",
colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},e=function(){var a=h.createElement("div");a.setAttribute("className","t");a.innerHTML='<span style="color:silver">s<span>';var b=a.getElementsByTagName("span")[0],f=h.createElement("input");f.value="t";f.setAttribute("type","radio");return{style:/silver/.test(b.getAttribute("style")),getSetAttribute:"t"!=a.className,radioValue:"t"==f.value}}(),l,i=function(a,b,f){!1!==b&&(b=d[f]||f,b in a&&(a[b]=!0),a.setAttribute(f,
f.toLowerCase()));return f},r={type:function(a,b){if(!e.radioValue&&"radio"==b&&a.nodeName&&"INPUT"==a.nodeName.toUpperCase()){var f=a.value;a.setAttribute("type",b);f&&(a.value=f);return b}},value:function(a,b,f){if(l&&a.nodeName&&"BUTTON"==a.nodeName.toUpperCase())return l(a,b,f);a.value=b}},t=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,w=/\:|^on/;e.getSetAttribute||(a=d,l=r.name=r.title=function(a,b,f){if(a=a.getAttributeNode(f))return a.nodeValue=
b},r.width=r.height=function(a,b){if(""===b)return a.setAttribute(name,"auto"),b});e.style||(r.style=function(a,b){return a.style.cssText=""+b});return function(e,b){var f=h.createElement(e),p,c;g.hasOwn(b,"innerHTML")&&(q(f,b.innerHTML),delete b.innerHTML);for(p in b)if(c=b[p],m[p])f["on"+p]=c;else{var k=f,s=p;if("getAttribute"in k){var u=void 0,s=a[s]||s,u=r[s];if(!u)if(t.test(s))u=i;else if(l&&"className"!=s&&(k.nodeName&&"FORM"==k.nodeName.toUpperCase()||w.test(s)))u=l;void 0!==c&&!(u&&void 0!==
u(k,c,s))&&k.setAttribute(s,""+c)}else s=d[s]||s,void 0!==c&&(k[s]=c)}return f}}();d.addMode({name:"dom",createElement:function(a,d,e){var l=g.hasOwn(d,"innerHTML"),a=i(a,d);if(!l)for(var l=0,d=e.length,m;l<d;l++)(m=e[l])&&m.nodeType?a.appendChild(m):a.appendChild(h.createTextNode(""+m));return a},textNode:function(a){return h.createTextNode(a)},fragment:function(a){for(var d=h.createDocumentFragment(),e=0,g=a.length,i;e<g;e++)i=a[e],i.nodeType?d.appendChild(i):d.appendChild(h.createTextNode(""+i));
return d},isModeObject:function(a){return!!a.nodeType},api:{createElement:i}})});m.define("./dombuilder/html",function(d,e,a){function g(a){this.value=a}function h(a){return new g(a)}function m(a){return a instanceof g}function q(a){return a instanceof g?a.value:b(""+a)}function i(a){this.childNodes=a||[];this._inlineFragments();this.firstChild=this.childNodes.length?this.childNodes[0]:null}function j(a,b,c){i.call(this,c);this.tagName=this.nodeName=a.toLowerCase();this.attributes=b||{}}function n(a){i.call(this,
a)}var d=a("./core"),k=a("isomorph/lib/object"),l=Array.prototype.splice,v=d.util.EVENT_ATTRS,a=d.util.FRAGMENT_NAME,e=d.util.JQUERY_AVAILABLE,r=d.util.setInnerHTML,t=k.lookup(d.util.TAG_NAMES),w=k.lookup("area,base,br,col,command,embed,frame,hr,input,img,keygen,link,meta,param,source,track,wbr".split(",")),o=e?function(a,b,c){jQuery("#"+a)[b](c)}:function(a,b,c){document.getElementById(a)["on"+b]=c};k.inherits(g,String);g.prototype.toString=g.prototype.valueOf=function(){return this.value};var b=
function(){var a=/&/g,b=/</g,c=/>/g,d=/"/g,e=/'/g;return function(g){return g.replace(a,"&amp;").replace(b,"&lt;").replace(c,"&gt;").replace(d,"&quot;").replace(e,"&#39;")}}();k.inherits(i,Object);i.prototype._inlineFragments=function(){for(var a=0,b=this.childNodes.length,c;a<b;a++)c=this.childNodes[a],c instanceof n&&(l.apply(this.childNodes,[a,1].concat(c.childNodes)),c._clear())};i.prototype.appendChild=function(a){a instanceof n?(this.childNodes=this.childNodes.concat(a.childNodes),a._clear()):
this.childNodes.push(a);null===this.firstChild&&(this.firstChild=this.childNodes[0])};i.prototype.cloneNode=function(a){var b=this._clone();if(!0===a)for(var c=0,d=this.childNodes.length,e;c<d;c++)e=this.childNodes[c],e instanceof j&&(e=e.cloneNode(a)),0===c&&(b.firstChild=e),b.childNodes.push(e);return b};i.prototype.hasChildNodes=function(){return!!this.childNodes.length};i.prototype.removeChild=function(a){if(null!==this.firstChild&&a===this.firstChild)return this.firstChild=1<this.childNodes.length?
this.childNodes[1]:null,this.childNodes.shift();for(var b=1,c=this.childNodes.length;b<c;b++)if(a===this.childNodes[b])return this.childNodes.splice(b,1)[0];throw Error("Node was not found");};i.prototype._clone=function(){return new Node};k.inherits(j,i);j.eventTrackerId=1;j.prototype.nodeType=1;j.prototype._clone=function(){return new j(this.tagName,k.extend({},this.attributes))};j.prototype.toString=function(a){var a="undefined"!=typeof a?a:!1,d=t[this.tagName]?this.tagName:q(this.tagName),c=["<"+
d],e;for(e in this.attributes)"innerHTML"!==e&&(v[e]?!0===a&&!this.eventsFound&&(this.eventsFound=!0):c.push(" "+q(e.toLowerCase())+'="'+q(this.attributes[e])+'"'));this.eventsFound&&!k.hasOwn(this.attributes,"id")&&(this.id="__DB"+j.eventTrackerId++ +"__",c.push(' id="'+this.id+'"'));c.push(">");if(w[d])return c.join("");if(k.hasOwn(this.attributes,"innerHTML"))c.push(this.attributes.innerHTML);else{e=0;for(var h=this.childNodes.length,i;e<h;e++)i=this.childNodes[e],i instanceof j||i instanceof g?
c.push(i.toString(a)):c.push(b(""+i))}c.push("</"+d+">");return c.join("")};j.prototype.addEvents=function(){if(this.eventsFound){var a=k.hasOwn(this.attributes,"id")?q(this.attributes.id):this.id,b;for(b in this.attributes)v[b]&&o(a,b,this.attributes[b]);delete this.eventsFound;delete this.id}a=0;b=this.childNodes.length;for(var c;a<b;a++)c=this.childNodes[a],c instanceof j&&c.addEvents()};j.prototype.insertWithEvents=function(a){r(a,this.toString(!0));this.addEvents()};k.inherits(n,i);n.prototype._clear=
function(){this.childNodes=[];this.firstChild=null};n.prototype._clone=function(){return new n};n.prototype.nodeType=11;n.prototype.nodeName=a;n.prototype.toString=function(a){for(var a="undefined"!=typeof a?a:!1,d=[],c=0,e=this.childNodes.length,h;c<e;c++)h=this.childNodes[c],h instanceof j||h instanceof g?d.push(h.toString(a)):d.push(b(""+h));return d.join("")};n.prototype.addEvents=function(){for(var a=0,b=this.childNodes.length,c;a<b;a++)c=this.childNodes[a],c instanceof j&&c.addEvents()};n.prototype.insertWithEvents=
function(a){r(a,this.toString(!0));this.addEvents()};d.addMode({name:"html",createElement:function(a,b,c){return new j(a,b,c)},textNode:function(a){return a},fragment:function(a){return new n(a)},isModeObject:function(a){return a instanceof i||a instanceof g},api:{escapeHTML:b,conditionalEscape:q,isSafe:m,markSafe:h,SafeString:g,HTMLNode:i,MockElement:j,MockFragment:n},apply:{isSafe:m,markSafe:h}})});m.define("DOMBuilder",function(d,e,a){e=a("./dombuilder/core");a("./dombuilder/dom");a("./dombuilder/html");
d.exports=e});window.DOMBuilder=x.DOMBuilder})();